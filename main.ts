controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Ghost.isHittingTile(CollisionDirection.Bottom)) {
        Ghost.setVelocity(0, -250)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.over(false)
})
let projectile: Sprite = null
let Ghost: Sprite = null
Ghost = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f11111111f.......
    ......fd11111111df......
    ......fd11111111df......
    ......fddd1111dddf......
    ......fbdbfddfbdbf......
    ......fcdcf11fcdcf......
    .......fb111111bf.......
    ......fffcdb1bdffff.....
    ....fc111cbfbfc111cf....
    ....f1b1b1ffff1b1b1f....
    ....fbfbffffffbfbfbf....
    .........ffffff.........
    ...........fff..........
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
Ghost.setPosition(20, 70)
Ghost.ay += 500
tiles.setTilemap(tiles.createTilemap(hex`0a0008000607070707070707070805040404040404040409050404040404040404090504040404040404040905040404040404040409050404040404040404090504040404040404040901030303030303030302`, img`
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    2 2 2 2 2 2 2 2 2 2 
    2 2 2 2 2 2 2 2 2 2 
    `, [myTiles.tile0,sprites.castle.tilePath7,sprites.castle.tilePath9,sprites.castle.tilePath8,sprites.castle.tilePath5,sprites.castle.tilePath4,sprites.castle.tilePath1,sprites.castle.tilePath2,sprites.castle.tilePath3,sprites.castle.tilePath6], TileScale.Sixteen))
game.onUpdateInterval(1500, function () {
    projectile = sprites.createProjectileFromSide(img`
        1 4 4 4 4 4 4 1 
        4 4 4 4 4 4 4 4 
        1 1 1 1 1 1 1 1 
        4 4 4 4 4 4 4 4 
        4 4 4 4 4 4 4 4 
        1 1 1 1 1 1 1 1 
        4 4 4 4 4 4 4 4 
        1 4 4 4 4 4 4 1 
        `, randint(-150, -30), 0)
    info.changeScoreBy(1)
    tiles.placeOnTile(projectile, tiles.getTileLocation(9, 5))
})
